<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>🎲 骰子游戏</title>
  <style>
    body { font-family: "Arial", sans-serif; background: #f5f5f5; text-align: center; padding: 40px; }
    h1 { color: #333; }
    .dice-area { margin: 20px auto; font-size: 100px; }
    .score { font-size: 20px; margin: 10px; color: #555; }
    .result { font-size: 24px; font-weight: bold; margin-top: 20px; }
    .btn {
      padding: 12px 30px;
      font-size: 18px;
      border: none;
      background: #007bff;
      color: white;
      border-radius: 8px;
      cursor: pointer;
    }
    .btn:disabled {
      background: #aaa;
      cursor: wait;
    }
  </style>
</head>
<body>
  <h1>🎲 骰子对战</h1>

  <div class="dice-area">
    <div>你: <span id="user-dice">❔</span></div>
    <div>机器人: <span id="bot-dice">❔</span></div>
  </div>

  <button id="roll-btn" class="btn" onclick="rollDice()">🎲 投掷骰子</button>

  <div class="result" id="result-msg"></div>

  <script>
    const diceEmojis = ['⚀','⚁','⚂','⚃','⚄','⚅'];

    async function rollDice() {
      const btn = document.getElementById("roll-btn");
      btn.disabled = true;
      btn.textContent = "🎲 投掷中...";

      const res = await fetch("/dice/play", { method: "POST" });
      const data = await res.json();

      document.getElementById("user-dice").textContent = diceEmojis[data.user - 1];
      document.getElementById("bot-dice").textContent = diceEmojis[data.bot - 1];
      document.getElementById("result-msg").textContent = data.message;

      btn.disabled = false;
      btn.textContent = "🎲 再来一局";
    }
  </script>
</body>
</html>
